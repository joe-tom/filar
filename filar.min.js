(function(g){var f=function(a){this.maxSize=a.maxSize||1E7};f.prototype.attachImage=function(a,b){var c=document.getElementById(a),d=document.createElement("input");this.setInput(d,c);d.addEventListener("change",function(){var a=d.files[0];if(a.type.match("image.*")){var c=new FileReader;c.onload=function(a){console.log(a.target);b.done&&b.done(a.target.result)};c.readAsDataURL(a)}else b.error&&b.error({code:1,error:"Not Image"})})};f.prototype.attachFile=function(a,b){var c=this,d=document.getElementById(a),
e=document.createElement("input");this.setInput(e,d);e.addEventListener("change",function(){var a=e.files[0],d=new FileReader;d.onload=function(d){b.done&&b.done(c.chunk(a,d.target.result))};d.readAsDataURL(a)})};f.prototype.setInput=function(a,b){a.type="file";a.style.opacity="0";a.style.position="absolute";a.style.cursor=this.getStyle(b,"cursor");a.style.height=this.getStyle(b,"height");a.style.width=this.getStyle(b,"width");a.style.top=this.getStyle(b,"top");a.style.left=this.getStyle(b,"left");
a.style.bottom=this.getStyle(b,"bottom");a.style.right=this.getStyle(b,"right");a.style.margin=this.getStyle(b,"margin");a.style.borderRadius=this.getStyle(b,"borderRadius");a.style.zIndex=1E4;console.log(b,a);b.parentNode.insertBefore(a,b)};f.prototype.getStyle=function(a,b){a.style.display="none";if(a.currentStyle)var c=a.currentStyle[b];else g.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));a.style.display="block";return c};f.prototype.chunk=function(a,b){var c=
{name:a.name,size:a.size,chunkSize:3600,type:a.type,ext:""},d={header:c,data:[]},e=a.name.split(".");1<e.length&&(c.ext=e[e.length-1]);c.name=e[0];d.header=c;c=b.split(",")[1];e=parseInt(b.length/3600);if(0===e)return d.data=[b],d;for(var f=0;f<e;f++)d.data.push(c.substr(3600*f,3600));return d};g.Filar=f})(window);