(function(g){function f(a){this.maxSize=a.maxSize||1E7;return this}f.prototype.attachImage=function(a,b){var d=this,e=document.getElementById(a),c=document.createElement("input");this.setInput(c,e);c.addEventListener("change",function(){[].forEach.call(c.files,function(a){if(a.type.match("image.*")){var c=new FileReader;c.onload=function(c){b.done&&b.done(d.chunk(a,c.target.result))};c.readAsDataURL(a)}else b.error&&b.error({code:1,error:"Not Image"})})})};f.prototype.attachFile=function(a,b){var d=
this,e=document.getElementById(a),c=document.createElement("input");this.setInput(c,e);c.addEventListener("change",function(){[].forEach.call(c.files,function(a){var c=new FileReader;c.onload=function(c){b.done&&b.done(d.chunk(a,c.target.result))};c.readAsDataURL(a)})})};f.prototype.setInput=function(a,b){a.type="file";a.multiple="true";a.accept="image/*";b.style.display="none";var d=g.getComputedStyle(b).cssText;a.style.cssText=d;b.style.display="block";a.style.display="block";a.style.opacity="0";
a.style.zIndex=1E4;b.parentNode.insertBefore(a,b)};f.prototype.chunk=function(a,b){b=b.split(",")[1];var d={fileName:a.name,fileSize:a.size,chunkSize:3600,chunkAmount:0,fileType:a.type,fileExtension:""},e={header:d,full:b,data:[]};1<d.fileName.split(".").length&&(d.fileExtension=d.fileName.split(".").pop());if(3600>=b)return e.data=[b],e;for(var c=b,f=Math.ceil(c.length/3600),g=Array(f),k,h=0;h<f;h++)k=3600*h,g[h]=c.substring(k,k+3600);e.data=g;d.chunkAmount=e.data.length;return e};g.Filar=f})(window);