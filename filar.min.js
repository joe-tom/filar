(function(g){function e(a){this.maxSize=a.maxSize||1E7;return this}e.prototype.attachImage=function(a,b){var d=this,c=document.getElementById(a),f=document.createElement("input");this.setInput(f,c);f.addEventListener("change",function(){[].forEach.call(f.files,function(a){if(a.type.match("image.*")){var c=new FileReader;c.onload=function(c){b.done&&b.done(d.chunk(a,c.target.result))};c.readAsDataURL(a)}else b.error&&b.error({code:1,error:"Not Image"})})})};e.prototype.setInput=function(a,b){a.type=
"file";a.multiple="true";a.accept="image/*";b.style.display="none";var d=g.getComputedStyle(b).cssText;a.style.cssText=d;b.style.display="block";a.style.display="block";a.style.opacity="0";a.style.zIndex=1E4;b.parentNode.insertBefore(a,b)};e.prototype.chunk=function(a,b){b=b.split(",")[1];var d={fileName:a.name,fileSize:a.size,chunkSize:3600,chunkAmount:0,fileType:a.type,fileExtension:""},c={header:d,full:b,data:[]};1<d.fileName.split(".").length&&(d.fileExtension=d.fileName.split(".").pop());if(3600>=
b)return c.data=[b],c;for(var f=b,e=Math.ceil(f.length/3600),g=Array(e),k,h=0;h<e;h++)k=3600*h,g[h]=f.substring(k,k+3600);c.data=g;d.chunkAmount=c.data.length;return c};g.Filar=e})(window);